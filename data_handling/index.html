
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="OMEGA-Py: Python tools for OMEGA data">
      
      
        <meta name="author" content="Aurélien Stcherbinine">
      
      
        <link rel="canonical" href="https://astcherbinine.github.io/omegapy/data_handling/">
      
      
        <link rel="prev" href="../data_correction/">
      
      
        <link rel="next" href="../data_visualization/">
      
      
      <link rel="icon" href="../img/favicon_omegapy.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Data handling - OMEGA-Py</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#saving-loading-omega-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="OMEGA-Py" class="md-header__button md-logo" aria-label="OMEGA-Py" data-md-component="logo">
      
  <img src="../img/logo_omegapy.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OMEGA-Py
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data handling
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="orange"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/AStcherbinine/omegapy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    AStcherbinine/omegapy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OMEGA-Py" class="md-nav__button md-logo" aria-label="OMEGA-Py" data-md-component="logo">
      
  <img src="../img/logo_omegapy.svg" alt="logo">

    </a>
    OMEGA-Py
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AStcherbinine/omegapy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    AStcherbinine/omegapy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basic_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tests
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_importation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data importation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_correction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data correction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Data handling
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Data handling
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#saving-loading-omega-data" class="md-nav__link">
    <span class="md-ellipsis">
      Saving &amp; Loading OMEGA data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Saving &amp; Loading OMEGA data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saving-omega-data" class="md-nav__link">
    <span class="md-ellipsis">
      Saving OMEGA data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correcting-and-saving-omega-observations-in-one-single-command" class="md-nav__link">
    <span class="md-ellipsis">
      Correcting and saving OMEGA observations in one single command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-omega-data" class="md-nav__link">
    <span class="md-ellipsis">
      Loading OMEGA data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-multiple-omega-observations" class="md-nav__link">
    <span class="md-ellipsis">
      Loading multiple OMEGA observations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-wavelength-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Finding wavelength indexes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-omega-spectra-that-have-different-wavelength-arrays" class="md-nav__link">
    <span class="md-ellipsis">
      Dealing with OMEGA spectra that have different wavelength arrays
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-masks" class="md-nav__link">
    <span class="md-ellipsis">
      Generating masks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generating masks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default" class="md-nav__link">
    <span class="md-ellipsis">
      Default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-masks" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing masks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customizing masks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detector-temperature" class="md-nav__link">
    <span class="md-ellipsis">
      Detector temperature
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#near-saturation-of-pixels" class="md-nav__link">
    <span class="md-ellipsis">
      Near-saturation of pixels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hiding-corrupted-columns-in-128-px-wide-orbservations" class="md-nav__link">
    <span class="md-ellipsis">
      Hiding corrupted columns in 128-px wide orbservations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#low-quality-observations" class="md-nav__link">
    <span class="md-ellipsis">
      Low quality observations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#corrupted-128-px-wide-cubes" class="md-nav__link">
    <span class="md-ellipsis">
      Corrupted 128-px wide cubes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observation-search" class="md-nav__link">
    <span class="md-ellipsis">
      Observation search
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Observation search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find_cube" class="md-nav__link">
    <span class="md-ellipsis">
      find_cube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jmars" class="md-nav__link">
    <span class="md-ellipsis">
      JMARS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_visualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data visualization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example1_band_depth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Band depth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example2_overplot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overplotting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Code Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/omega_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    omega_data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/omega_plots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    omega_plots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/useful_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    useful_functions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community guidelines
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../litterature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Litterature
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../credits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Credits
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Data handling</h1>

<p>In the following, we assume that we have imported the module as follows:
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">omegapy.omega_data</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">od</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">omegapy.useful_functions</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">uf</span>
</span></code></pre></div></p>
<h2 id="saving-loading-omega-data">Saving &amp; Loading <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data</h2>
<p>The importation and correction of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data cubes take some time to be achieved.
Thus, it is convenient to be able to directly save and load 
<a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a> object
to avoid reprocessing them every time.</p>
<p>The saving and loading is done using the <a href="https://docs.python.org/3/library/pickle.html"><code>pickle</code></a>
module.</p>
<h3 id="saving-omega-data">Saving <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data</h3>
<p>Assuming we have an <a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a> object
<code>omega</code>, the easiest and recommended way to save it is to use the 
<a href="../reference/omega_data/#omega_data.autosave_omega"><code>autosave_omega</code></a> function:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">od</span><span class="o">.</span><span class="n">autosave_omega</span><span class="p">(</span><span class="n">omega</span><span class="p">)</span>
</span></code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This function will automatically define the filename depending on the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube ID,
the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>-Py major version, and the status of the thermal and atmospheric corrections.</p>
<p>Observations that are saved with
<a href="../reference/omega_data/#omega_data.autosave_omega"><code>autosave_omega</code></a>
can then be loaded easily with the
<a href="../reference/omega_data/#omega_data.autoload_omega"><code>autoload_omega</code></a>
function, as they use the same filenaming convention.</p>
</div>
<p>If you prefer to manually define the filename when saving the data, it can be done
by using the <a href="../reference/omega_data/#omega_data.save_omega"><code>save_omega</code></a> function
instead.</p>
<h3 id="correcting-and-saving-omega-observations-in-one-single-command">Correcting and saving <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations in one single command</h3>
<p><abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>-Py includes functions that will compute the thermal &amp; atmospheric corrections as
described <a href="../data_correction/#simultaneous-atmospheric-thermal-corrections">here</a> and
then automatically save the result for further use with
<a href="../reference/omega_data/#omega_data.autosave_omega"><code>autosave_omega</code></a>.</p>
<p>For one <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube, this can be done by calling the
<a href="../reference/omega_data/#omega_data.corr_save_omega2"><code>corr_save_omega2</code></a> function
(instead of <a href="../reference/omega_data/#omega_data.corr_therm_atm"><code>corr_therm_atm</code></a>
which will apply the corrections and return the newly created
<a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a> object).</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">od</span><span class="o">.</span><span class="n">corr_save_omega2</span><span class="p">(</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="s1">&#39;0967_3&#39;</span><span class="p">,</span>       <span class="c1"># Cube ID</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">npool</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>       <span class="c1"># Number of parallel processes for the thermal correction</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">compress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Remove the radiance (cube_i) cube to decrease the size of the saved file by replacing it by `None`</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="p">)</span>
</span></code></pre></div>
</div>
<p>Similarly, it can also be done directly for a list of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations (that you would need
to process for a specific project) using the 
<a href="../reference/omega_data/#omega_data.corr_save_omega2_list"><code>corr_save_omega2_list</code></a> function.
The only difference with the call for one observation is that here the cube ID (<code>str</code>) is 
replaced by a list of cube IDs.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">od</span><span class="o">.</span><span class="n">corr_save_omega_list2</span><span class="p">(</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="p">[</span><span class="s1">&#39;0967_2&#39;</span><span class="p">,</span> <span class="s1">&#39;0967_3&#39;</span><span class="p">,</span> <span class="s1">&#39;0967_4&#39;</span><span class="p">],</span>     <span class="c1"># List of cube IDs</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="n">npool</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>       <span class="c1"># Number of parallel processes for the thermal correction</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">compress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Remove the radiance (cube_i) cube to decrease the size of the saved file by replacing it by `None`</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="p">)</span>
</span></code></pre></div>
</div>
<h3 id="loading-omega-data">Loading <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data</h3>
<p>Assuming that you have saved an <a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a> object
using the <a href="../reference/omega_data/#omega_data.autosave_omega"><code>autosave_omega</code></a> function,
it can be easily loaded with 
<a href="../reference/omega_data/#omega_data.autoload_omega"><code>autoload_omega</code></a>.
As in this case, the filenames and path follows a specific convention, all it needs is
the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube number and the status of the thermal and atmospheric corrections.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">omega</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">autoload_omega</span><span class="p">(</span><span class="s1">&#39;0967_3&#39;</span><span class="p">,</span> <span class="n">therm_corr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">atm_corr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>       <span class="c1"># Cube 0967_3 with no corrections</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">omega_corr</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">autoload_omega</span><span class="p">(</span><span class="s1">&#39;0967_3&#39;</span><span class="p">,</span> <span class="n">therm_corr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">atm_corr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>    <span class="c1"># Cube 0967_3 with both corrections</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Not specifying the corrections status</p>
<p>If the correction status is not specified, or the exact ID of the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube is not provided
and there is an ambiguity, it will show all the matching products and ask you to choose the one
you want to load by entering the corresponding number (see figure below).</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">omega</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">autoload_omega</span><span class="p">(</span><span class="s1">&#39;0967_3&#39;</span><span class="p">)</span>
</span></code></pre></div>
<p><figure markdown>
  <img alt="Loading of a previously saved OMEGAdata object" src="../img/autoload_omega_ORB0967_3_ambiguous_corr.png" />
  <figcaption>
    Loading of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube <em>0967_3</em> with both thermal and atmospheric corrections applied.
  </figcaption>
</figure></p>
</div>
</div>
<p>It is also possible to load an previously saved <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observation by specifying its exact
filename, using the <a href="../reference/omega_data/#omega_data.load_omega"><code>load_omega</code></a> function:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">omega</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">load_omega</span><span class="p">(</span><span class="s1">&#39;/path/to/saved/data/ORB0967_3.pkl&#39;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="loading-multiple-omega-observations">Loading multiple <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations</h3>
<p>If needed to load multiple previously computed and saved <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations, it can be done
by using the 
<a href="../reference/omega_data/#omega_data.load_omega_list2"><code>load_omega_list2</code></a> function, which
is based on <a href="../reference/omega_data/#omega_data.autoload_omega"><code>autoload_omega</code></a>.
The only difference between the two is that in this case the cube ID (<code>str</code>) is replaced by a list
of cube IDs:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">omega_list</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">load_omega_list2</span><span class="p">(</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="p">[</span><span class="s1">&#39;0967_2&#39;</span><span class="p">,</span> <span class="s1">&#39;0967_3&#39;</span><span class="p">,</span> <span class="s1">&#39;0967_4&#39;</span><span class="p">,</span> <span class="s1">&#39;0979_3&#39;</span><span class="p">],</span>   <span class="c1"># List of OMEGA cubes to load</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">therm_corr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>    <span class="c1"># With thermal correction applied</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">atm_corr</span><span class="o">=</span><span class="kc">True</span>       <span class="c1"># With atmospheric correction applied</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="p">)</span>
</span></code></pre></div>
<p>Alternatively, it is also possible to use a more manual method with the
<a href="../reference/omega_data/#omega_data.load_omega_list"><code>load_omega_list</code></a> function, which
is based on <a href="../reference/omega_data/#omega_data.load_omega"><code>load_omega</code></a> and takes as an
argument the full basename of the files to load.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">omega_list</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">load_omega_list</span><span class="p">(</span><span class="s1">&#39;/path/to/saved/data/ORB0967_?.pkl&#39;</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="finding-wavelength-indexes">Finding wavelength indexes</h2>
<p>The spectra are automatically "cleaned" during the importation of the binary files into
an <a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a> object by:</p>
<ul>
<li>sorting the wavelength in ascending order</li>
<li>removing the wavelength overlap between the different channels</li>
<li>removing the corrupted <abbr title="Spectral pixels">spectels</abbr>, as identified by the <code>ic</code> array</li>
</ul>
<p>Consequently, the index of a specific wavelength may change depending on the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observation
considered, especially across the time of the mission.
So we provided an easy way to search for the index of a value in an array, that can be used
to easily retrieve the index of a specific wavelength, which will be needed to compute
any spectral criteria: the
<a href="../reference/useful_functions/#useful_functions.where_closer"><code>where_closer</code></a> and
<a href="../reference/useful_functions/#useful_functions.where_closer_array"><code>where_closer_array</code></a>
functions from <a href="../reference/useful_functions"><code>omegapy.useful_function</code></a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">omega</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">OMEGAdata</span><span class="p">(</span><span class="s1">&#39;0967_3&#39;</span><span class="p">)</span>      <span class="c1"># Loading an OMEGA observation</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">i_108</span> <span class="o">=</span> <span class="n">uf</span><span class="o">.</span><span class="n">where_closer</span><span class="p">(</span><span class="mf">1.085</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">lam</span><span class="p">)</span>   <span class="c1"># Index of λ=1.085μm</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">i_150</span><span class="p">,</span> <span class="n">i_226</span> <span class="o">=</span> <span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.26</span><span class="p">],</span> <span class="n">omega</span><span class="o">.</span><span class="n">lam</span><span class="p">)</span>    <span class="c1"># Indexes of λ=1.5μm and λ=2.26μm</span>
</span></code></pre></div>
<h2 id="dealing-with-omega-spectra-that-have-different-wavelength-arrays">Dealing with <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> spectra that have different wavelength arrays</h2>
<p>As mentioned above, it is possible that different <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations may not have the exact same
wavelength array, as some <abbr title="Spectral pixels">spectels</abbr> got corrupted across the duration of the mission.</br>
It may be of importance especially if you want to compute operations over multiple spectra
from different observations (spectral ratio, average...), so <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>-Py include some
functions to help you tackle this: the
<a href="../reference/omega_data/#omega_data.shared_lam"><code>shared_lam</code></a> and
<a href="../reference/omega_data/#omega_data.shared_lam_omegalist"><code>shared_lam_omegalist</code></a> functions.</p>
<div class="admonition example">
<p class="admonition-title">Example 1: individual spectra</p>
<p>Let's assume we have 3 spectra as 1D arrays <code>sp1</code>, <code>sp2</code>, <code>sp3</code> and their corresponding
wavelength arrays <code>lam1</code>, <code>lam2</code>, <code>lam3</code>.</p>
<p>We can find the common wavelengths with
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">lam_new</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">shared_lam</span><span class="p">([</span><span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">,</span> <span class="n">lam3</span><span class="p">])</span>     <span class="c1"># Array with all the common wavelengths</span>
</span></code></pre></div></p>
<p>Then we sample the spectra to match the new common wavelength array
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">sp1_new</span> <span class="o">=</span> <span class="n">sp1</span><span class="p">[</span><span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">lam1</span><span class="p">)]</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">sp2_new</span> <span class="o">=</span> <span class="n">sp2</span><span class="p">[</span><span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">lam2</span><span class="p">)]</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">sp3_new</span> <span class="o">=</span> <span class="n">sp3</span><span class="p">[</span><span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">lam3</span><span class="p">)]</span>
</span></code></pre></div></p>
<p>And we can now perform any operations on the spectra as they all have the same dimension
and wavelengths.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Example 2: list of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations</p>
<p>Let's assume we have 3 <a href="../reference/omega_data/#omega_data.OMEGAdata"><code>OMEGAdata</code></a>
objects <code>omega1</code>, <code>omega2</code>, <code>omega3</code>.</p>
<p>We can find the common wavelengths with
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">lam_new</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">shared_lam_omegalist</span><span class="p">([</span><span class="n">omega1</span><span class="p">,</span> <span class="n">omega2</span><span class="p">,</span> <span class="n">omega3</span><span class="p">])</span>     <span class="c1"># Array with all the common wavelengths</span>
</span></code></pre></div></p>
<p>Then we search for the indexes that correspond to the wavelengths of the new array
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">i_lam1</span> <span class="o">=</span> <span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">lam1</span><span class="p">)</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">i_lam2</span> <span class="o">=</span> <span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">lam2</span><span class="p">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">i_lam3</span> <span class="o">=</span> <span class="n">uf</span><span class="o">.</span><span class="n">where_closer_array</span><span class="p">(</span><span class="n">lam_new</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">lam3</span><span class="p">)</span>
</span></code></pre></div></p>
<p>And we just need to sample the spectra to match the new common wavelength array
when we get them from the data cube.
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">sp1</span> <span class="o">=</span> <span class="n">omega1</span><span class="o">.</span><span class="n">cube_rf</span><span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">i_lam1</span><span class="p">]</span>  <span class="c1"># Loading the spectrum from pixel (x1, y1) of omega1, sampled on the new wavelength array</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">sp2</span> <span class="o">=</span> <span class="n">omega2</span><span class="o">.</span><span class="n">cube_rf</span><span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">i_lam2</span><span class="p">]</span>  <span class="c1"># Loading the spectrum from pixel (x2, y2) of omega2, sampled on the new wavelength array</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">sp3</span> <span class="o">=</span> <span class="n">omega3</span><span class="o">.</span><span class="n">cube_rf</span><span class="p">[</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">i_lam3</span><span class="p">]</span>  <span class="c1"># Loading the spectrum from pixel (x3, y3) of omega3, sampled on the new wavelength array</span>
</span></code></pre></div></p>
<p>And we can now perform any operations on the spectra as they all have the same dimension
and wavelengths.</p>
</div>
<h2 id="generating-masks">Generating masks</h2>
<p>For the scientific analysis of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data some pixels of the data cubes need to be
removed because they correspond to internal calibration measurements, or are corrupted.
Extensive description of filtering criteria that have been used for the analysis of <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>
observations can be found in several published studies, e.g.,
Langevin et al. (2007)<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">1</a></sup>, Poulet et al. (2007)<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">2</a></sup>, Ody et al. (2012)<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">3</a></sup>, 
Vincendon et al. (2015)<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">4</a></sup>, Stcherbinine et al. (2021)<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">5</a></sup>.</p>
<p>The <a href="../reference/omega_data/#omega_data.omega_mask"><code>omega_mask</code></a> function generate masks
associated to an <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observation that can be used in all the display functions presented
in <a href="../data_visualization">Data visualization</a>.</p>
<h3 id="default">Default</h3>
<p>By default, the function will generate a mask that takes into account all the calibration lines
as described in the <a href="../SOFT10_readme.txt"><em>SOFT10_README.txt</em></a> (see below), 
but it can be refined to exclude some pixels depending on their associated observation geometry or
detector behavior using optional arguments of the function.</p>
<details class="abstract" open="open">
<summary>Calibration lines – Note from the <em>SOFT10_README.txt</em></summary>
<p>The last 4 scans (16 pixels), 2 scans (32 pixels) or 1 scan (64, 128
pixels) of <code>idat</code> and <code>jdat</code> have only <abbr title="Infrared">IR</abbr> data (<abbr title="Spectral pixels">spectels</abbr> 0 to 255).</p>
<p>There is calibration data at the beginning of each cube for the visible
channel, at the beginning of the <em>ORBNNNN_0.QUB</em> cubes for the <abbr title="Infrared">IR</abbr> channels
The number of calibration scans depend on the pixel length (16 to 128)
and the summation (1, 2 or 4 for 128 pixel modes):</p>
<ul>
<li>
<p>for every cube, the first scan (128 pixels x 4), 3 scans (128 x 2) 
7 scans (128 x 1), 14 scans (64 pixels), 
28 scans (32 pixels), 56 scans (16 pixels) of the visible channel
(<abbr title="Spectral pixels">spectels</abbr> 256 and above) correspond to an internal calibration</p>
</li>
<li>
<p>for cubes with names <em>NNNN_0</em> (first cube in a sequence), the first
6 scans (128 x 4), 12 scans (128 x 2), 24 scans (128 x 1)
48 scans (64 pixels), 96 scans (32 pixels) or 192 scans (16 pixels)
of the <abbr title="Infrared">IR</abbr> channel (<abbr title="Spectral pixels">spectels</abbr> 0 to 255) correspond to an internal 
calibration (closed shutter, lamp on at 6 different levels, 
in order 0,4,3,2,1,0).</p>
</li>
</ul>
</details>
<h3 id="customizing-masks">Customizing masks</h3>
<h4 id="viewing-geometry">Viewing geometry</h4>
<p>The viewing geometry can affect the spectra measured by <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> (e.g., Pommerol &amp; Schmitt, 2008<sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup>),
so studies focussing on the surface used to restrain themselves to pixels acquired in near-nadir
mode.</p>
<p>Thus, if set, the <code>emer_lim</code> keyword will remove all the pixels with an emergence angle larger
than the value passed as an argument.
And similarly, the <code>inci_lim</code> keyword will remove all the pixels with an incidence angle larger
than the given value.</p>
<h4 id="detector-temperature">Detector temperature</h4>
<p>The <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> <abbr title="Infrared">IR</abbr> detectors (C &amp; L channels) have been designed and calibrated to operate at 
temperatures below 80 K, above this value the dark current level and the noise will increase.
However, a certain amount of time is needed to cool them down to this temperature before an
acquisition, so it happened that the detectors were not at their nominal temperature during the
entire acquisition of a data cube, especially as the performance of the cryocoolers started to
decline around <abbr title="Martian Year">MY</abbr> 30.</p>
<p>If the <code>tempc_lim</code> is set, all pixels acquired with the C-channel detector at a temperature
higher than the provided one (in °C) will be removed.</p>
<h4 id="near-saturation-of-pixels">Near-saturation of pixels</h4>
<p>Near-saturation of some pixels can occur when observing a surface element brighter than
expected (e.g., sun-lighted tilted surface).
Vincendon et al., (2015)<sup id="fnref2:5"><a class="footnote-ref" href="#fn:5">4</a></sup> introduce a criterion to avoid non-linearity effects when approaching
the saturation based on the value measured by the <abbr title="Spectral pixel">spectel</abbr> #40 (i.e., λ = 1.486μm), by excluding
pixels with a value higher than a defined threshold.</p>
<p>If the <code>limsat_c</code> keyword is set, pixels measured with a value higher than the given one (in <abbr title="Digital Numbers">DN</abbr>)
will be removed.</p>
<h4 id="hiding-corrupted-columns-in-128-px-wide-orbservations">Hiding corrupted columns in 128-px wide orbservations</h4>
<p>As described in 
<a href="#corrupted-128-px-wide-cubes">Corrupted 128-px wide cubes</a>,
an instrumental issue perturbs 128 pixels wide observations from orbit 513 to 3283.
The easiest way to handle it is to ignore the corrupted columns.</p>
<p>This is done if the <code>hide_128</code> option is activated.</p>
<h4 id="low-quality-observations">Low quality observations</h4>
<p>In some cases, one may want to completely ignore some <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cubes as they are considered as
"low quality observations".</p>
<p>It can be done by checking some parameters of the observation to ignore the unwanted ones
after the data importation, but as an example 
<a href="../reference/omega_data/#omega_data.omega_mask"><code>omega_mask</code></a> has its own pre-implemented
low-quality test.</p>
<p>If the <code>reject_low_quality</code> keyword is set to <code>True</code>, such observations will be hided by having
a mask entirely filled with <code>NaN</code>.</p>
<div class="admonition info">
<p class="admonition-title">Pre-implemented low quality criterion</p>
<p>Is condidered as "low quality" by the 
<a href="../reference/omega_data/#omega_data.omega_mask"><code>omega_mask</code></a> function 
(according to Stcherbinine et al. (2021)<sup id="fnref2:1"><a class="footnote-ref" href="#fn:1">5</a></sup>) any <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cube that
meet one of the conditions below.</p>
<table>
<thead>
<tr>
<th>Test</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>omega.data_quality == 0</code></td>
<td>Low quality cube</td>
</tr>
<tr>
<td><code>omega.quality == 0</code></td>
<td></td>
</tr>
<tr>
<td><code>(numCube == 0) and (npixel == 64) and (omega.bits_per_data == 1)</code></td>
<td></td>
</tr>
<tr>
<td><code>not omega.orbit in good_orbits_OBC</code></td>
<td>Orbit not in the "good orbits" file (relative to on-board calibration (OBC))</td>
</tr>
<tr>
<td><code>omega.target != 'MARS'</code></td>
<td>Mars pointing only</td>
</tr>
<tr>
<td><code>omega.mode_channel != 1</code></td>
<td>All 3 channels required</td>
</tr>
<tr>
<td><code>omega.point_mode == 'N/A'</code></td>
<td>Unknown pointing informations</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition example">
<p class="admonition-title">Example of the masks used in Stcherbinine et al. (2021)<sup id="fnref3:1"><a class="footnote-ref" href="#fn:1">5</a></sup></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">mask</span> <span class="o">=</span> <span class="n">od</span><span class="o">.</span><span class="n">omega_mask</span><span class="p">(</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    <span class="n">omega</span><span class="p">,</span> 
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="n">emer_lim</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>                <span class="c1"># Emergence angles &lt; 10°</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="n">inci_lim</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span>                <span class="c1"># Incendence angles &lt; 70°</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="n">tempc_lim</span><span class="o">=-</span><span class="mi">194</span><span class="p">,</span>              <span class="c1"># Detector temperature &lt; -194°C</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    <span class="n">limsat_c</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>               <span class="c1"># Spectel #40 &lt; 500 DN</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>    <span class="n">hide_128</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>              <span class="c1"># Remove corrupted columns</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    <span class="n">reject_low_quality</span><span class="o">=</span><span class="kc">True</span>     <span class="c1"># Ignore low-quality observations</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>    <span class="p">)</span>
</span></code></pre></div>
<p>In addition to this instrumental criteria, spectral criteria to filter clouds
and surface ice were added to generate the masks.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Adding spectral criterion to the masks – Illustration with surface ice</p>
<p>Assuming that you have loaded an <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observation <code>omega</code> and computed the 
associated band depth at 1.5μm <code>bd15</code> and default mask <code>mask</code>, you can add
the filtering of all the pixels with a <abbr title="Band Depth">BD</abbr> &gt; 0.1 (spectral criterion used
to remove the surface ice in Stcherbinine et al. (2021)<sup id="fnref4:1"><a class="footnote-ref" href="#fn:1">5</a></sup>) with:
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">mask</span><span class="p">[</span><span class="n">bd15</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</span></code></pre></div></p>
</div>
<h2 id="corrupted-128-px-wide-cubes">Corrupted 128-px wide cubes</h2>
<p>From orbit 513, observations acquired in the 128-px wide mode present a disruption of some
columns (Ody et al., 2012<sup id="fnref2:4"><a class="footnote-ref" href="#fn:4">3</a></sup>; Vincendon et al. 2015<sup id="fnref3:5"><a class="footnote-ref" href="#fn:5">4</a></sup>):</p>
<ul>
<li>
<p>From orbit 513 to 2123, the columns #81 to #96 (i.e., 12.5% of the image) exhibit 44
corrupted wavelength, distributed across the entire spectral range according to a regular pattern
(4 contiguous <abbr title="Spectral pixels">spectels</abbr> every 32 <abbr title="Spectral pixels">spectels</abbr>, from <abbr title="Spectral pixel">spectel</abbr> 12 or 28 depending on the observation,
every other row of the image ; cf panels a &amp; b).</br>
For these observations, it is possible to partially reconstruct the cube by using spatial and
spectral interpolation, which can be done using the 
<a href="../reference/omega_data/#omega_data.corr_mode_128"><code>corr_mode_128</code></a> function.</p>
</li>
<li>
<p>From orbit 2124 to 3283 (no more 128-px wide acquisitions after) the corrupted wavelengths
already present remained, but combined with a random noise that affected all columns between #61
and #128 (i.e., half of the image ; cf panels c &amp; d).</br>
This second effect, random and affecting all rows and wavelengths cannot be corrected, so the
corrupted columns have to be removed.</p>
</li>
</ul>
<figure>
<p><img alt="Corrupted 128-px wide OMEGA observations" src="../img/mode128_multi_jet.svg" />
  </p>
<figcaption>
    Illustration of the perturbation that affect cubes acquired in a 128-px wide mode from
    orbit 513 to 2123 (a &amp; b) and from orbit 2124 to 3283 (c &amp; d)
    (figure 4.10 from Stcherbinine 2021)[^7].
  </figcaption>
</figure>
<h2 id="observation-search">Observation search</h2>
<h3 id="find_cube"><code>find_cube</code></h3>
<p>The <a href="../reference/omega_data/#omega_data.find_cube"><code>find_cube</code></a> function allows you to
search for all the observations that include a specific location on Mars (over the first few
thousands orbits).
Plus, if you have the corresponding <em>.NAV</em> files, it will display geometry informations
for the pixel of the cube which is the closest to the target coordinates (see figure below).</p>
<figure>
<p><img alt="find_cube example" src="../img/res_findcube.png" />
  </p>
<figcaption>
    Example use of the find_cube function to search for available observations of the 
    Phoenix landing site region (234°E / 68°N) between orbits 923 and 1223.
  </figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Nadir-only filtering</p>
<p>It is possible to filter the results so the search only returns the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cubes
acquired with a nadir viewing geometry with the <code>nadir_only</code> argument:</p>
<ul>
<li><code>nadir_only = True</code> &rarr; Only returns cubes acquired with nadir geometry.</li>
<li><code>nadir_only = False</code> (default) &rarr; Returns all matching <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> cubes.</li>
</ul>
</div>
<h3 id="jmars">JMARS</h3>
<p>Alternatively, as <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> data are included in <a href="https://jmars.mars.asu.edu">JMARS</a> 
it is possible to use this tool to perform a request to search for <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> observations
as a function of time, location...</p>
<p>Then, if you export the search results as a .csv file, you can use the 
<a href="../reference/omega_data/#omega_data.import_list_obs_csv"><code>import_list_obs_csv</code></a> function
to load it and extract the cube ID into an array that can be passed as an argument to the
<abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>-Py functions.</p>
<div class="admonition info">
<p class="admonition-title">JMARS</p>
<p><a href="https://jmars.mars.asu.edu">JMARS</a> is an acronym that stands for Java
Mission-planning and Analysis for Remote Sensing. It is a geospatial
information system (GIS) developed by ASU's Mars Space Flight Facility to
provide mission planning and data-analysis tools to NASA scientists, instrument
team members, students of all ages and the general public.</p>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:2">
<p>Y. Langevin, J.-P. Bibring, F. Montmessin, F. Forget, et al. (2007).
Observations of the south seasonal cap of Mars during
recession in 2004–2006 by the <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr> visible/near-infrared imaging spectrometer
on board Mars Express. 
<em>JGR Planets 112 (E8)</em>.
<a href="http://dx.doi.org/10.1029/2006JE002841">doi:10.1029/2006JE002841</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>F. Poulet, C. Gomez, J.-P. Bibring, Y. Langevin, et al. (2007).
Martian surface mineralogy from Observatoire pour la Minéralogie,
l'Eau, les Glaces et l'Activité on board the Mars Express spacecraft (<abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>/<abbr title="Mars Express">MEx</abbr>):
Global mineral maps. 
<em>JGR Planets 112 (E8)</em>. 
<a href="http://dx.doi.org/10.1029/2006JE002840">doi:10.1029/2006JE002840</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>A. Ody, F. Poulet, Y. Langevin, J.-P. Bibring, et al. (2012). 
Global maps of anhydrous minerals at the surface of Mars from <abbr title="Observatoire pour la Minéralogie, l'Eau, les Glaces et l'Activité">OMEGA</abbr>/<abbr title="Mars Express">MEx</abbr>.
<em>JGR Planets 117 (E11)</em>. 
<a href="http://dx.doi.org/10.1029/2012JE004117">doi:10.1029/2012JE004117</a>&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 3 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:4" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>M. Vincendon, J. Audouard, F. Altieri, A. Ody, (2015). 
Mars Express measurements of surface albedo changes over 2004–2010. 
<em>Icarus 251, 145–163</em>. 
<a href="http://dx.doi.org/10.1016/j.icarus.2014.10.029">doi:10.1016/j.icarus.2014.10.029</a>&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 4 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:5" title="Jump back to footnote 4 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:5" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:1">
<p>A. Stcherbinine, M. Vincendon, F. Montmessin, P. Beck (2021). 
Identification of a new spectral signature at 3 µm over Martian northern high latitudes: implications for surface composition. 
<em>Icarus, 369</em>, 114627. 
<a href="https://doi.org/10.1016/j.icarus.2021.114627">doi:10.1016/j.icarus.2021.114627</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:1" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4:1" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>A. Pommerol &amp; B. Schmitt (2008). 
Strength of the H<sub>2</sub>O near-infrared absorption bands in hydrated minerals: 
Effects of measurement geometry. 
<em>JGR Planets 113 (E12)</em>.
<a href="http://dx.doi.org/10.1029/2008JE003197">doi:10.1029/2008JE003197</a>&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>A. Stcherbinine (2021). PhD thesis, Université Paris-Saclay.
<a href="http://www.theses.fr/en/2021UPASP064">NNT:2021UPASP064</a>&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Aurélien Stcherbinine
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/AStcherbinine" target="_blank" rel="noopener" title="AStcherbinine on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.researchgate.net/profile/Aurelien-Stcherbinine" target="_blank" rel="noopener" title="Aurélien Stcherbinine on ResearchGate" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M0 32v448h448V32zm262.2 334.4c-6.6 3-33.2 6-50-14.2-9.2-10.6-25.3-33.3-42.2-63.6-8.9 0-14.7 0-21.4-.6v46.4c0 23.5 6 21.2 25.8 23.9v8.1c-6.9-.3-23.1-.8-35.6-.8-13.1 0-26.1.6-33.6.8v-8.1c15.5-2.9 22-1.3 22-23.9V225c0-22.6-6.4-21-22-23.9V193c25.8 1 53.1-.6 70.9-.6 31.7 0 55.9 14.4 55.9 45.6 0 21.1-16.7 42.2-39.2 47.5 13.6 24.2 30 45.6 42.2 58.9 7.2 7.8 17.2 14.7 27.2 14.7zm22.9-135c-23.3 0-32.2-15.7-32.2-32.2V167c0-12.2 8.8-30.4 34-30.4s30.4 17.9 30.4 17.9l-10.7 7.2s-5.5-12.5-19.7-12.5c-7.9 0-19.7 7.3-19.7 19.7v26.8c0 13.4 6.6 23.3 17.9 23.3 14.1 0 21.5-10.9 21.5-26.8h-17.9v-10.7h30.4c0 20.5 4.7 49.9-34 49.9m-116.5 44.7c-9.4 0-13.6-.3-20-.8v-69.7c6.4-.6 15-.6 22.5-.6 23.3 0 37.2 12.2 37.2 34.5 0 21.9-15 36.6-39.7 36.6"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/in/aurelien-stcherbinine/" target="_blank" rel="noopener" title="Aurélien Stcherbinine on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://aurelien.stcherbinine.net/" target="_blank" rel="noopener" title="Aurélien Stcherbinine personal page" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.indexes", "toc.integrate", "toc.follow", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "v2.4"}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>